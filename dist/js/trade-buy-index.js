(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"2f0f":function(e,t,r){"use strict";function o(e){var t=new Date(e),r=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),n=t.getHours(),s=t.getMinutes(),c=t.getSeconds();return r+"-"+(o<10?"0"+o:o)+"-"+(a<10?"0"+a:a)+" "+(n<10?"0"+n:n)+":"+(s<10?"0"+s:s)+":"+(c<10?"0"+c:c)}r.d(t,"a",(function(){return o}))},"3a33":function(e,t,r){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",[t("h-msg-box",{attrs:{width:"360"},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[t("p",{staticStyle:{color:"#00b894","text-align":"center"},attrs:{slot:"header"},slot:"header"},[t("h-icon",{attrs:{name:"success"}}),e._v(" "),t("span",[e._v("申购订单信息")])],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("h3",[e._v("购买客户为:"+e._s(e.buyInfo.cardName))]),e._v(" "),t("h3",[e._v("购买卡号为:"+e._s(e.buyInfo.cardNum))]),e._v(" "),t("h3",[e._v("购买产品Id为:"+e._s(e.buyInfo.productId))]),e._v(" "),t("h3",[e._v("购买产品名称为:"+e._s(e.buyInfo.productName))]),e._v(" "),t("h3",[e._v("购买产品金额为:"+e._s(e.buyInfo.buyNum))]),e._v(" "),t("h3",[e._v("购买产品时间为:"+e._s(e.buyInfo.buyTime))]),e._v(" "),t("h3",[e._v("购买产品的订单编号为:"+e._s(e.buyInfo.buyId))])]),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("h-button",{attrs:{type:"success",size:"large",long:""},on:{click:e.ok}},[e._v("确定")])],1)]),e._v(" "),t("h-msg-box",{attrs:{width:"360"},model:{value:e.modal2,callback:function(t){e.modal2=t},expression:"modal2"}},[t("p",{staticStyle:{color:"#00b894","text-align":"center"},attrs:{slot:"header"},slot:"header"},[t("h-icon",{attrs:{name:"success"}}),e._v(" "),t("span",[e._v("赎回订单信息")])],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("h3",[e._v("赎回客户为:"+e._s(e.sellInfo.cardName))]),e._v(" "),t("h3",[e._v("赎回卡号为:"+e._s(e.sellInfo.cardNum))]),e._v(" "),t("h3",[e._v("赎回产品Id为:"+e._s(e.sellInfo.productId))]),e._v(" "),t("h3",[e._v("赎回产品名称为:"+e._s(e.sellInfo.productName))]),e._v(" "),t("h3",[e._v("赎回产品金额为:"+e._s(e.sellInfo.sellNum))]),e._v(" "),t("h3",[e._v("赎回产品时间为:"+e._s(e.sellInfo.sellTime))]),e._v(" "),t("h3",[e._v("赎回产品的订单编号为:"+e._s(e.sellInfo.sellId))]),e._v(" "),t("h3",[e._v("当前产品剩余份额:"+e._s(e.sellInfo.personNum))])]),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("h-button",{attrs:{type:"success",size:"large",long:""},on:{click:e.ok}},[e._v("确定")])],1)]),e._v(" "),t("h-msg-box",{attrs:{width:"360"},model:{value:e.modal3,callback:function(t){e.modal3=t},expression:"modal3"}},[t("p",{staticStyle:{color:"#00b894","text-align":"center"},attrs:{slot:"header"},slot:"header"},[t("h-icon",{attrs:{name:"success"}}),e._v(" "),t("span",[e._v("充值订单信息")])],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("h3",[e._v("充值客户为:"+e._s(e.rechargeInfo.cardName))]),e._v(" "),t("h3",[e._v("充值客户身份证号为:"+e._s(e.rechargeInfo.cardNum))]),e._v(" "),t("h3",[e._v("充值银行卡号为:"+e._s(e.rechargeInfo.cardInfo))]),e._v(" "),t("h3",[e._v("充值金额为:"+e._s(e.rechargeInfo.rechargeValue))]),e._v(" "),t("h3",[e._v("当前余额位:"+e._s(e.rechargeInfo.totalValue))]),e._v(" "),t("h3",[e._v("充值时间为:"+e._s(e.rechargeInfo.rechargeTime))]),e._v(" "),t("h3",[e._v("充值订单编号为:"+e._s(e.rechargeInfo.rechargeId))])]),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("h-button",{attrs:{type:"success",size:"large",long:""},on:{click:e.ok}},[e._v("确定")])],1)]),e._v(" "),t("h-msg-box",{attrs:{width:"360"},model:{value:e.modal4,callback:function(t){e.modal4=t},expression:"modal4"}},[t("p",{staticStyle:{color:"#00b894","text-align":"center"},attrs:{slot:"header"},slot:"header"},[t("h-icon",{attrs:{name:"success"}}),e._v(" "),t("span",[e._v("提现订单信息")])],1),e._v(" "),t("div",{staticStyle:{"text-align":"center"}},[t("h3",[e._v("提现客户为:"+e._s(e.withdrawalInfo.cardName))]),e._v(" "),t("h3",[e._v("提现客户身份证号为:"+e._s(e.withdrawalInfo.cardNum))]),e._v(" "),t("h3",[e._v("提现银行卡号为:"+e._s(e.withdrawalInfo.cardInfo))]),e._v(" "),t("h3",[e._v("提现金额为:"+e._s(e.withdrawalInfo.withdrawalValue))]),e._v(" "),t("h3",[e._v("提现时间为:"+e._s(e.withdrawalInfo.withdrawalTime))]),e._v(" "),t("h3",[e._v("提现订单编号为:"+e._s(e.withdrawalInfo.withdrawalId))])]),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("h-button",{attrs:{type:"success",size:"large",long:""},on:{click:e.ok}},[e._v("确定")])],1)])],1)},a=[],n=r("78c2"),s={name:"MsgBox",data:function(){return{modal1:!1,modal2:!1,modal3:!1,modal4:!1,buyInfo:n["a"],sellInfo:n["f"],rechargeInfo:n["e"],withdrawalInfo:n["h"]}},methods:{changeBuyModal:function(e,t){this.modal1=e,this.buyInfo=t,console.log(t)},changeSellModal:function(e,t){this.modal2=e,this.sellInfo=t},rechargeModal:function(e,t){this.modal3=e,this.rechargeInfo=t},withdrawalModal:function(e,t){this.modal4=e,this.withdrawalInfo=t},ok:function(){this.modal1=!1,this.modal2=!1,this.modal3=!1,this.modal4=!1,location.reload()}}},c=s,l=r("2bf4"),u=Object(l["a"])(c,o,a,!1,null,null,null);t["a"]=u.exports},"612a":function(e,t,r){},"78c2":function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"a",(function(){return n})),r.d(t,"e",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"g",(function(){return u})),r.d(t,"b",(function(){return d}));var o={productId:"",productName:"",productNum:"",productType:"",productLevel:"",productPrice:""},a={cardName:"",cardNum:"",personNum:"",productId:"",productName:"",sellId:"",sellNum:"",sellTime:""},n={buyId:"",buyNum:"",buyTime:"",cardName:"",cardNum:"",productId:"",productName:""},s={cardInfo:"",cardName:"",cardNum:"",rechargeId:"",rechargeTime:"",rechargeValue:"",totalValue:""},c={cardInfo:"",cardName:"",cardNum:"",withdrawalId:"",withdrawalTime:"",withdrawalValue:""},l=[{title:"产品名称",key:"productName"},{title:"产品编号",key:"productId"},{title:"产品类型",key:"productType"},{title:"产品总额",key:"productNum"},{title:"产品净值",key:"productPrice",sortable:!0,render:function(e,t){return e("Tag",t.row.productPrice)}},{title:"产品风险等级",key:"productLevel",render:function(e,t){var r=t.row,o="high"===r.productLevel?"red":"low"===r.productLevel?"green":"blue",a="high"===r.productLevel?"高风险":"low"===r.productLevel?"低风险":"中等风险";return e("Tag",{props:{type:"dot",color:o}},a)}}],u=[{title:"用户姓名",key:"cardName"},{title:"用户银行卡信息",key:"cardInfo"},{title:"交易类型",key:"tradeType",render:function(e,t){var r=t.row,o="申购"===r.tradeType?"red":"green",a="申购"===r.tradeType?"申购":"赎回";return e("Tag",{props:{type:"dot",color:o}},a)}},{title:"交易金额",key:"tradeValue",render:function(e,t){return e("Tag",t.row.tradeValue)}},{title:"交易时间",key:"tradeTime",sortable:!0}],d=[{title:"时间",key:"date",sortable:!0},{title:"状态",key:"figureNum",render:function(e,t){var r=t.row,o="false"===r.figureNum?"red":"green",a="false"===r.figureNum?"未清算":"清算";return e("Tag",{props:{type:"dot",color:o}},a)}}]},"7deb":function(e,t,r){"use strict";r("612a")},8982:function(e,t,r){"use strict";var o=r("bc3a"),a=r.n(o),n="https://mock.apifox.cn/m1/1300795-0-default",s=n,c=5e3,l=a.a.create({baseURL:s,timeout:c});l.interceptors.request.use((function(e){return e}),(function(e){})),l.interceptors.response.use((function(e){return e.data}),(function(e){if(e&&e.response)switch(e.response.status){case 400:console.log("请求错误");break;case 401:console.log("未授权访问");break;default:console.log("其他错误信息")}return e}));t["a"]=l},"9b81":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"open"},[t("div",{staticClass:"open-header"},[e._v("用户申购")]),e._v(" "),t("div",{staticClass:"content"},[t("h-form",{ref:"buyInfo",attrs:{model:e.buyInfo,"label-width":200}},[t("h-form-item",{attrs:{label:"用户姓名",prop:"cardName",validRules:e.nameRule,required:""}},[t("h-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名"},model:{value:e.buyInfo.cardName,callback:function(t){e.$set(e.buyInfo,"cardName",t)},expression:"buyInfo.cardName"}})],1),e._v(" "),t("h-form-item",{attrs:{label:"用户证件号码",prop:"cardNum",validRules:e.cardNumRule,required:""}},[t("h-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入证件号码",maxlength:18},model:{value:e.buyInfo.cardNum,callback:function(t){e.$set(e.buyInfo,"cardNum",t)},expression:"buyInfo.cardNum"}})],1),e._v(" "),t("h-form-item",{attrs:{label:"用户银行卡号码",prop:"cardInfo",required:""}},[t("h-typefield",{staticStyle:{width:"300px"},attrs:{type:"cardNo",placeholder:"请输入银行卡号码",step:19},model:{value:e.buyInfo.cardInfo,callback:function(t){e.$set(e.buyInfo,"cardInfo",t)},expression:"buyInfo.cardInfo"}})],1),e._v(" "),t("h-form-item",{attrs:{label:"购买产品编码",prop:"productId",required:""}},[t("h-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入购买产品编码"},model:{value:e.buyInfo.productId,callback:function(t){e.$set(e.buyInfo,"productId",t)},expression:"buyInfo.productId"}})],1),e._v(" "),t("h-form-item",{attrs:{label:"购买产品的名字",prop:"productName",required:""}},[t("h-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入购买产品的名字"},model:{value:e.buyInfo.productName,callback:function(t){e.$set(e.buyInfo,"productName",t)},expression:"buyInfo.productName"}})],1),e._v(" "),t("h-form-item",{attrs:{label:"购买产品的金额",prop:"buyNum",required:""}},[t("h-typefield",{staticStyle:{width:"300px"},attrs:{integerNum:"8",type:"money",placeholder:"请输入购买产品的金额",bigTips:"",isround:""},model:{value:e.buyInfo.buyNum,callback:function(t){e.$set(e.buyInfo,"buyNum",t)},expression:"buyInfo.buyNum"}})],1)],1)],1),e._v(" "),t("div",{staticClass:"open-footer"},[t("h-button",{staticClass:"btn",attrs:{type:"primary",size:"large"},on:{click:function(t){return e.submitBuy("buyInfo")}}},[e._v("申购")])],1),e._v(" "),t("Msg-Box",{ref:"tradeInfo"}),e._v(" "),t("h-msg-box",{attrs:{escClose:!0,title:"确认购买该产品购买",beforeEscClose:e.beforetest},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[t("h3",[e._v("当前产品风险等级为:"+e._s(e.productLevel))]),e._v(" "),t("h3",[e._v("您当前的客户类型为:"+e._s(e.userRiskLevel))]),e._v(" "),t("h3",[e._v("确定是否购买该产品?")])])],1)},a=[],n=r("9523"),s=r.n(n),c=r("8982"),l=r("2f0f"),u=r("3a33");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={components:{MsgBox:u["a"]},data:function(){var e=/^[\u4E00-\u9FA5A-Za-z\s]+(·[\u4E00-\u9FA5A-Za-z]+)*$/,t=/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/;return{buyInfo:{productId:"",cardName:"",cardNum:"",productName:"",cardInfo:"",buyNum:""},modal1:!1,modal:!0,buyMessage:"是否确定申购",productLevel:"",userRiskLevel:"",cardInfoRule:[{message:"请输入正确身份证",trigger:"blur"}],nameRule:[{test:e,message:"请输入正确姓名",trigger:"blur"}],cardNumRule:[{test:t,message:"请输入正确身份证号",trigger:"blur"}]}},methods:{submitBuy:function(e){var t=this;this.$refs[e].validate((function(e){e?(t.searchProductLevel(),t.searchUserLevel(),t.modal1=!0):t.$hMessage.error("表单验证失败!")}))},searchProductLevel:function(){var e=this;Object(c["a"])({method:"get",url:"/searchProduct",params:{productName:this.buyInfo.productName}}).then((function(t){var r=t.data.productLevel;e.productLevel=r}))},searchUserLevel:function(){var e=this;Object(c["a"])({method:"post",url:"/searchUser",params:{cardName:this.buyInfo.cardName,cardNum:this.buyInfo.cardNum}}).then((function(t){var r=t.data.userRiskLevel;e.userRiskLevel=r}))},beforetest:function(){return!0},ok:function(){var e=this,t=Date.now(),r=Object(l["a"])(t);Object(c["a"])({method:"post",url:"/buy",data:i(i({},this.buyInfo),{},{buyTime:r})}).then((function(t){console.log(t),e.$refs.tradeInfo.changeBuyModal(e.modal,t.data)}))},cancel:function(){this.$hMessage.info("取消购买")}}},h=f,m=(r("7deb"),r("2bf4")),v=Object(m["a"])(h,o,a,!1,null,"5d05c0e1",null);t["default"]=v.exports}}]);